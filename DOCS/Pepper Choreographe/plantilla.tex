\documentclass[a4paper]{article}
\usepackage[latin1]{inputenc}
\usepackage[T1]{fontenc}
%\usepackage[spanish]{babel}
\usepackage[english]{babel}
\usepackage{a4wide}
\usepackage{amsmath}
\usepackage{amssymb,amsfonts,textcomp}
\usepackage{color}
\usepackage{array}
\usepackage{supertabular}
\usepackage{hhline}
\usepackage{hyperref}
\usepackage{fancyhdr}
\usepackage[table]{xcolor}
\usepackage{tabularx}
\usepackage{float}
\usepackage{csquotes}
\usepackage{eurosym}
\restylefloat{table}
%\hypersetup{pdftex, colorlinks=true, linkcolor=blue, citecolor=blue, filecolor=blue, urlcolor=blue, pdftitle=, pdfauthor=, pdfsubject=, pdfkeywords=}
\usepackage[pdftex]{graphicx}
% footnotes configuration
\makeatletter
\renewcommand\thefootnote{\arabic{footnote}}
\makeatother
% Text styles
\newcommand\textstyleStrongEmphasis[1]{\textbf{#1}}
% Outline numbering
\setcounter{secnumdepth}{0}
\makeatletter
\newcommand\arraybslash{\let\\\@arraycr}
\makeatother
% List styles
\newcommand\liststyleWWNumxxix{%
\renewcommand\labelitemi{{}-}
\renewcommand\labelitemii{o}
\renewcommand\labelitemiii{[F0A7?]}
\renewcommand\labelitemiv{[F0B7?]}
}
\newcommand\liststyleLi{%
\renewcommand\labelitemi{{\textbullet}}
\renewcommand\labelitemii{${\circ}$}%
\renewcommand\labelitemiii{${\blacksquare}$}
\renewcommand\labelitemiv{{\textbullet}}
}
\newcommand\liststyleLii{%
\renewcommand\labelitemi{{\textbullet}}
\renewcommand\labelitemii{${\circ}$}
\renewcommand\labelitemiii{${\blacksquare}$}
\renewcommand\labelitemiv{{\textbullet}}
}
\newcommand\liststyleLiii{%
\renewcommand\labelitemi{{\textbullet}}
\renewcommand\labelitemii{${\circ}$}
\renewcommand\labelitemiii{${\blacksquare}$}
\renewcommand\labelitemiv{{\textbullet}}
}
\newcommand\liststyleLiv{%
\renewcommand\labelitemi{{\textbullet}}
\renewcommand\labelitemii{${\circ}$}
\renewcommand\labelitemiii{${\blacksquare}$}
\renewcommand\labelitemiv{{\textbullet}}
}
\newcommand\liststyleLv{%
\renewcommand\labelitemi{{\textbullet}}
\renewcommand\labelitemii{${\circ}$}
\renewcommand\labelitemiii{${\blacksquare}$}
\renewcommand\labelitemiv{{\textbullet}}
}
\newcommand\liststyleLvi{%
\renewcommand\labelitemi{{\textbullet}}
\renewcommand\labelitemii{${\circ}$}
\renewcommand\labelitemiii{${\blacksquare}$}
\renewcommand\labelitemiv{{\textbullet}}
}
\newcommand\liststyleLvii{%
\renewcommand\labelitemi{{\textbullet}}
\renewcommand\labelitemii{{\textbullet}}
\renewcommand\labelitemiii{{\textbullet}}
\renewcommand\labelitemiv{{\textbullet}}
}
\newcommand\liststyleLviii{%
\renewcommand\labelitemi{{\textbullet}}
\renewcommand\labelitemii{{\textbullet}}
\renewcommand\labelitemiii{{\textbullet}}
\renewcommand\labelitemiv{{\textbullet}}
}
\newcommand\liststyleLix{%
\renewcommand\labelitemi{{\textbullet}}
\renewcommand\labelitemii{{\textbullet}}
\renewcommand\labelitemiii{{\textbullet}}
\renewcommand\labelitemiv{{\textbullet}}
}
\newcommand\liststyleLx{%
\renewcommand\labelitemi{{\textbullet}}
\renewcommand\labelitemii{{\textbullet}}
\renewcommand\labelitemiii{{\textbullet}}
\renewcommand\labelitemiv{{\textbullet}}
}
% Page layout (geometry)
\setlength\voffset{-1in}
\setlength\hoffset{-1in}
\setlength\topmargin{2cm}
\setlength\oddsidemargin{2cm}
\setlength\textheight{24.203001cm}
\setlength\textwidth{17.001cm}
\setlength\footskip{0.0cm}
\setlength\headheight{0.998cm}
\setlength\headsep{0.499cm}
% Footnote rule
\setlength{\skip\footins}{0.119cm}
\renewcommand\footnoterule{\vspace*{-0.018cm}\setlength\leftskip{0pt}\setlength\rightskip{0pt plus 1fil}\noindent\textcolor{black}{\rule{0.25\columnwidth}{0.018cm}}\vspace*{0.101cm}}
% Pages styles
\makeatletter
\newcommand\ps@Standard{
  \renewcommand\@oddhead{[Warning: Draw object ignored]}
  \renewcommand\@evenhead{\@oddhead}
  \renewcommand\@oddfoot{}
  \renewcommand\@evenfoot{}
  \renewcommand\thepage{\arabic{page}}
}
\newcommand\ps@FirstPage{
  \renewcommand\@oddhead{}
  \renewcommand\@evenhead{}
  \renewcommand\@oddfoot{}
  \renewcommand\@evenfoot{}
  \renewcommand\thepage{\arabic{page}}
}
\makeatother

\setlength\tabcolsep{1mm}
\renewcommand\arraystretch{1.3}
\title{}
\author{}
\date{2013-06-03}

\renewcommand{\baselinestretch}{1.2}

\begin{document}

\pagestyle{empty}
\setcounter{page}{0}

\includegraphics[width=3cm]{logo-uclm.jpg}
\hfill
\includegraphics[width=3cm]{logo-esii.png}

{\centering \par}
\begin{center}
\includegraphics[width=2.96cm,height=3.522cm]{logo-conciti.png}
\end{center}

\bigskip
{\centering\bfseries\large
UNIVERSIDAD DE CASTILLA-LA MANCHA
\par}

\bigskip
{\centering\bfseries\large
ESCUELA SUPERIOR DE INGENIERÍA INFORMÁTICA
\par}

\bigskip
{\centering\bfseries\large
GRADO EN INGENIERÍA INFORMÁTICA
\par}

\bigskip
{\centering\bfseries\large
DEPARTAMENTO DE SISTEMAS INFORMÁTICOS
\par}

\vskip 3em
{\centering\bfseries
HUMAN-ROBOT INTERACTION (HRI) WITH ROBOT PEPPER
\par}

\vfill % Rellena espacio automáticamente hasta ajustar al margen inferior 

\noindent Authors: 
\newline Hernan Indíbil de la Cruz Calvo.
\newline Alejandro Zornoza Martínez.

\vskip 1em 
\mbox{\begin{minipage}[b][2.5cm][c]{0.2\linewidth} {\large April, 2018}  \end{minipage}}
\hfill % Rellena espacio automáticamente hasta que la image se ajuste a la derecha
%\mbox{\includegraphics[width=10.5cm]{patrocinadores.png}}
%\vskip 1em %Un línea en blanco para que el logo de Euroinf no se pegue al footnote

\newpage
\thispagestyle{empty}
\mbox{}
\clearpage

\pagestyle{plain}
%\thispagestyle{FirstPage}

\setcounter{tocdepth}{10}
\pagenumbering{roman}
\setcounter{page}{1}
\renewcommand\contentsname{\'Indice de contenido}
\tableofcontents

\newpage
\thispagestyle{empty}
\mbox{}
\clearpage

\setcounter{page}{1}
\pagestyle{plain}
\pagenumbering{arabic}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%% CONTENIDO %%%%%%%%%%%%%%%%%%%%%
\section{1.\ INTRODUCTION}

%El cap\'itulo de introducci\'on podr\'a abordar los siguientes aspectos:

%\liststyleWWNumxxix
%\begin{itemize}
%\item Introducci\'on al tema, entorno en el que el trabajo desempe\~nar\'a su objetivo, \ justificaci\'on de la
%importancia del trabajo abordado.
%\item Motivaci\'on y antecedentes (con algunas referencias bibliogr\'aficas).
%\item Descripci\'on gr\'afica del proyecto (es aconsejable incorporar una figura que describa el trabajo a desarrollar y
%que mejore la comprensi\'on del mismo).
%\end{itemize}

Actually with the evolution of technology and advances in recognition and speech algorithms, the capacibility of the robots increment so fast, that it is the reason why a lot of companies are working on robot development, robots will provide humans a lot of tools that they could make their life more easier.\newline

With the advance accomplished in the HRI(human robot interaction), we can provide to the robots habilities that help them to interact with humans and exchange information between them. \newline

The HRI(human robot interaction) is a multidisciplinary field with a lot of contributions from artificial intelligences, mecanics advances, robotics design, natural language understanding and social science. \newline

These set of science are working all time from improve the capabilities of the robots, making them strongers with better motors, making them more intelligent, making them more social and finally improving their natural language understanding and better in people recognition. \newline

We have learnt during practices how the robot acts depending diferent conditions and enviroments and now we are able to try to work with one of the most advanced robot in HRI that it is called Pepper. \newline

Pepper is a human-shaped robot, that it was design for being a genuine day-to-day companion, which it has the hability to perceive emotions and answer depending the type of them.\newline

The body of Pepper it is preparied for communicate with the people with the most natural and intuitive body language, giving it a friendly actitude and voice. \newline

With the memory capability the user can personalise the robot downloading the software applications and adapts himself to user tastes and habits. We  have to remember that his habilities are provided by researchers groups from around the world and the joing of all of them permits it design. \newline

In this project we are going to try to development our personal behaviours for Pepper and learning who a robot with these caracteristics acts, especially in face recognition, speak dialogs, hear words and move around following special orders defined by us. \newline

\begin{figure}[ht]
	\centering
	\includegraphics[scale=0.5]{Meet-Pepper-SM.png}
	\label{Pepperintroduction}
\end{figure}


\newpage
\section{2.\ OBJECTIVES}
\section{3.\ PRELIMINARIES}
\subsection{3.1.\ CHOREOGRAPHE}
We have to provide to the reader the enough knowledge about the development environment called choregraphe. We use it in this project to perform the human-robot interaction with Robot Pepper. One of the benefits of using this enviroment it is that the user do not need a lot of knowledge about programming in code. The reason is simple, it provides a toolbox diagram enviroment where the user can move and connect boxes that are defined to simulate the robot behavior. \newline

We will provide to the reader a tiny guide of using this enviroment and how we use to design the robot behaviors. \newline

First of all, we have to show the first interface page of choregraphe, but we have to remember first that the choregraphe installation package include other importants tools that we have to tell to the reader. \newline

The installation package includes:

\begin{itemize}
	\item Choregraphe 2.5.5 development tool: That it is the enviroment for design. We will explain more about it in other sections after that.
	\item NAO Documentation 2.5.5 : All relevant information about robots, enviroment, how to install, and uses are included there. It is importante documentation that the user can use to perform his hability while he is working with the robots, it includes documentation about Pepper, Nao and Romeo.
	\item Memory Backup 2.5.5: It provides the posibility of safe the robot state when we are working on it, it can save previusly installations and we can recover them if the user think it it necesary. This tool have two principal uses, the first one, save data installed on the robot and the second one restore data from the user computer to robot memory.
	\item Monitor 2.5.5: It provides the tools for monitoring and take information about memory and cameras data, we did not use it for this project.
\end{itemize}

Well, to start with we are going to explain all the information about the Choregraphe 2.5.5 development tool, and we will teach all the steps that we follow for make the project tasks. \newline

First of all, we open the Choregraphe 2.5.5 development tool and we can see the interface that we provide in the image  \ref{Choregrapheinterface} \newpage
\begin{figure}[!ht]
	\centering
	\includegraphics[scale=0.3]{1choregraphe.png}
	\caption{Image of the Choregraphe main menu interface.}
	\label{Choregrapheinterface}
\end{figure}

At the Getting started window we can see diferent options:

\begin{itemize}
	\item Create a robot application: \begin{itemize} \item New project. \item Import project from CRG file. \item Import project from former project directory. \item Open project. \end{itemize}
	\item Documentation: \begin{itemize} \item Choregraphe guide. \item Coding in Python. \item Scripting in Choregraphe. \item Writing dialogs in Choregraphe. \end{itemize}
\end{itemize}

In addition the interface contains a top bar, one left bar and one right bar. \newline

The top bar \ref{Topbar} contains the options for:

\begin{figure}[ht]
	\centering
	\includegraphics[scale=0.3]{2topbar.png}
	\caption{Image of the top bar.}
	\label{Topbar}
\end{figure}


\begin{itemize}
	\item The top part contains: 
	\begin{itemize}
		\item File options.
		\item Edit options.
		\item Connection options.
		\item View options.
		\item Help options.
	\end{itemize}	
	The bottom part of this bar provides:
	
	\begin{itemize}
		
		\item The first rectangle \ref{Topbar1} contains: Create project option, open recent project option, save project.
		\begin{figure}[ht]
			\centering
			\includegraphics[scale=0.5]{2topbar1.png}
			\caption{Image of the top bar first rectangle.}
			\label{Topbar1}		
		\end{figure}
		
		\item The second rectangle \ref{Topbar2} provides the option of backward or forward in the steps that we do.
		\begin{figure}[ht]
			\centering
			\includegraphics[scale=0.5]{2topbar2.png}
			\caption{Image of the top bar second rectangle.}
			\label{Topbar2}			
		\end{figure}
		
		\item The third rectangle \ref{Topbar3} provides the posibility of connect and disconnect to a robot or a simulate robot.
		\begin{figure}[ht]
			\centering
			\includegraphics[scale=0.5]{2topbar3.png}
			\caption{Image of the top bar third rectangle.}
			\label{Topbar3}		
		\end{figure}
		\item The fourth rectangle \ref{Topbar4} provides options for upload to the robot and play, stop, debugs and errors output, the state {running, not running}, volume options and animation mode.
		\begin{figure}[!ht]
			\centering
			\includegraphics[scale=0.3]{2topbar4.png}
			\caption{Image of the top bar fourth rectangle.}
			\label{Topbar4}		
		\end{figure}

		\item The last rectangles \ref{Topbar5} provides options for turn autonomous life on/off, rest the robot, wake up the robot and battery information about the robot.		
		\begin{figure}[!ht]
			\centering
			\includegraphics[scale=0.4]{2topbar5.png}
			\caption{Image of the top bar fiveth rectangle.}
			\label{Topbar5}		
		\end{figure}		
	\end{itemize}	
\end{itemize}

%% left bar
Also, we are going to continue giving information about other parts of the main menu interface, at the left side we can see this menu blocks \ref{leftbar1}.
\newpage
\begin{figure}[!t]
	\centering
	\includegraphics[scale=0.9]{1leftbar.png}
	\caption{Image of the left bar.}
	\label{leftbar1}
\end{figure}
		
In this part the reader can see two different zones: the first one, at the top it provides information about project files, in the plus mark, you can create new behaviors, dialogs, planar moves, directories, or import files from other selected directories. \newline

The last one provides the user box libraries which will help the user to program the robot behaviors. It have 7 categories called:

\begin{itemize}
	\item Animation.
	\item Speech.
	\item LEDs.
	\item Multimedia.
	\item Movement.
	\item Sensing.
	\item Programming.
\end{itemize} 

We will explain better in future sections giving relevant information about the utility of these categories and the different types of boxes that they provide.\newline

On the other side, the right bar \ref{rightbar1}, it provides a video image of the robot where the user can see what is doing the robot doing, objects that are in front of him, and the currently distance of them. It is a place where you can test the robot behavior and the user can validate and test the designed behaviors. \newpage

%% right bar
\begin{figure}[!t]
	\centering
	\includegraphics[scale=1.5]{1rightbar.png}
	\caption{Image of the right bar with robot simulation.}
	\label{rightbar1}
\end{figure}

At the bottom, the user can see packages that are installed into the robot and options for install new ones or delete one of them.\newline

Finally,in the middle \ref{middledesignpart}, we have the space for the block designing.

\begin{figure}[!ht]
	\centering
	\includegraphics[scale=1.5]{1middle.png}
	\caption{Image of the block diagram design section.}
	\label{middledesignpart}
\end{figure}

At the top the reader can see timelines blocks, it contains block that will show other block designing space. In the middle the user can drop blocks for making his behaviours, he have to connect the first one to the left arrow and the last one in the other side, at the right arrow.\newline

At the bottom the reader can see the log viewer for see error details, he can use the dialog text for writting messages to the robot, it provides to the user that he do not need to talk if he want to test for example a speech recognition block.

\subsection{3.2.\ HOW TO CONNECT TO PEPPER}
In order to start working Choregraphe we need to connect with Pepper.
First we need to be connected to the same network as the robot, in our case the network is called ``legoland''.
Once we are connected to the network, we can connect Choregraphe with Pepper. That can be done either by pressing Connection -> Connect to..., by pressing the green button in \ref{Topbar3} depicting an antenna with waves or by pressing Ctrl + Shift + C.
Now we need to know the IP address that Pepper is using. We can know that by touching the button behind the tablet the robot is holding. We just need to write the IP address and the port the robot says in the Choregraphe screen shown in \ref{Connect1}.
\begin{figure}[ht]
	\centering
	\includegraphics[scale=0.5]{connectto.png}
	\caption{Connect to... screen in Choregraphe.}
	\label{Connect1}		
\end{figure}
After that we only need to press the ``Select'' button and we will be connected to the robot.
To disconnect we can use either Connection -> Disconnect, the red button in \ref{Topbar3} or Ctrl + Shift + D.
\section{4.\ SPEECH RECOGNITION}
One of the most interesting things in Choregraphe is the ``Speech Recognition'' block in \ref{Speech1}.
\begin{figure}[ht]
	\centering
	\includegraphics[scale=0.5]{speechreco1.png}
	\caption{Speech Recognition block.}
	\label{Speech1}
\end{figure}
They allow us to interact with the robot with our voice.
Inputs:
\begin{itemize}
	\item onStart: type ``Bang'', which means it will not treat the information received, it is just a signal that starts the box behaviour. It is the one marked with the play symbol.
	\item onStop: type ``Bang''. Stops the box behaviour. Marked with a red cross.
\end{itemize}

Outputs:
\begin{itemize}
	\item onStopped: type ``Bang''. Sends a signal after the box behaviour has stopped. Marked with a vertical red line with a black play symbol on its right side.
	\item wordRecognized: type ``String''. Sends the word the robot has recognized.
	\item onNothing: type ``Bang''. Sends a signal if Pepper has not heard anything during a certain timelapse.
\end{itemize}

The most important parameters are:
\begin{itemize}
	\item Word list: list of strings separated by semicolons the robot will try to recognize when that box behaviour is on.
	\item Confidence threshold: when the robot hears something, it assigns a confidence value to the word it has recognized. If that value does not reach the value set in this parameter, the word will not be recognized.
\end{itemize}
\subsection{4.1.\ ANIMATIONS}
There are a few animations already defined, as you can see in \ref{Animations1}.
\begin{figure}[ht]
	\centering
	\includegraphics[scale=0.5]{animations1.png}
	\caption{Some predefined animation blocks.}
	\label{Animations1}
\end{figure}
In our example, we decided to use ``Gorilla'' and ``Football'' animations.
Inputs:
\begin{itemize}
	\item onStart: type ``Bang''. Starts the box behaviour.
	\item onStop: type ``Bang''. Stops the box behaviour.
\end{itemize}

Outputs:
\begin{itemize}
	\item onStopped: type ``Bang''. Sends a signal after the box behaviour has stopped.
\end{itemize}
We have created a behaviour called ``SpeechCommands'' that has to perform an animation when it is said so, which diagram is the one being shown in \ref{SpeechCommands1}.
\begin{figure}[ht]
	\centering
	\includegraphics[scale=0.5]{speechcommands1.png}
	\caption{SpeechCommands behaviour diagram.}
	\label{SpeechCommands1}
\end{figure}
Firts we need to ``Wake Up'' the robot, otherwise it will not be able to perform anything.
We created a block composed by more blocks in order to do that, called ``Awaken'' block.
Inputs:
\begin{itemize}
	\item onStart: type ``Bang''.
\end{itemize}

Outputs:
\begin{itemize}
	\item onSuccess: type ``Bang''. Sends a signal if the robot woke up correctly.
	\item onFailure: type ``Bang''. Sends a signal if the robot failed to wake up.
\end{itemize}
As we can see in \ref{Awaken1}, the block is composed by a ``Stand up'' box, some ``Set Language'' boxes and a ``Say'' box.
The ``Stand up'' box wakes up the robot, starts the motors and puts Pepper to its default position.
If the robot woke up correctly then it will say a message. Else it will send a signal through its onFailure output.
After that, we have the ``FaceAndSpeech'' block, which diagram is shown in \ref{FaceSpeech1}.
Inputs:
\begin{itemize}
	\item onStart: type ``Bang''.
	\item onStop: type ``Bang''.
\end{itemize}

Outputs:
\begin{itemize}
	\item onStopped: type ``Bang''.
	\item An type ``Bang'' output for each function the robot has to be able to perform. That is to say, if we want it to say ``Goodbye'' after the user says ``Bye'', ``See you'' or any other farewell, there will only be an output for all the farewells the robot can hear.
	\item End: type ``Bang''. When the robot is told to stop, this output will send a signal.
\end{itemize}
\begin{figure}[ht]
	\centering
	\includegraphics[scale=0.5]{faceandspeech1.png}
	\caption{FaceAndSpeech box diagram.}
	\label{FaceSpeech1}
\end{figure}
This block has a Face Tracking box, a Speech Recognition box and a Switch box. The Speech Recognition box sends any word it recognizes to the Switch box that sends a signal to the correct output and stops both the tracking and the speech recognition.
Sice we wanted to make the robot more realistic, we added a Face Tracking box to make it follow the face of the person talking to it.
The Speech Recognition box has in its wordlist the words ``Football'' and ``Gorilla''. The Switch box has only three cases, one for each word in the wordlist and another one for the ``end'' word. If someone writes ``end'' in Pepper's console, this case will be triggered.
After the FaceAndSpeech box we have the animations and the message the robot says when it is told to stop.
\subsection{4.2.\ MOVEMENT}
We created the ``FollowCome'' behaviour, that implements both the ``Follow me'' and ``Come here'' voice commands. The diagram, that is very similar to that in \ref{SpeechCommands1}, can be seen in \ref{FollowCome1}.
\begin{figure}[ht]
	\centering
	\includegraphics[scale=0.5]{followcome1.png}
	\caption{FollowCome behaviour diagram.}
	\label{FollowCome1}
\end{figure}
The only changes are inside FaceAndSpeech block and the animations have been replaced by new boxes.
FaceAndSpeech box had its wordlist and cases changed to use the new voice commands: ``Follow me'' and ``Come here''.
Instead of animations, we now have two new blocks: ``FollowActions'' and ``Come Here Actions''.
They both have the same inputs and outputs, none other than onStart, onStop and onStopped.
The FollowActions box, which diagram is shown in \ref{FollowActions1}, starts with the robot saying what the user has to do in order to stop the robot.
\begin{figure}[ht]
	\centering
	\includegraphics[scale=0.5]{followme1.png}
	\caption{FollowActions box diagram.}
	\label{FollowActions1}
\end{figure}
Then, it starts simmultaneously a Face Tracker box and a Speech Recognition box with two words in its wordlist: ``stop'' and ``blergh''.
Only having one word in its wordlist will make the robot try to hear only that word, making a lot of false positives.
After that box, a Switch box will stop everything when the robot hears ``stop'', and will do nothing otherwise.
The Face Tracker box will make the robot move to the position of the face it is tracking.
When the robot is stopped, it says a phrase to let the user have some feedback.

The ``Come Here Actions'' box is more simple, as can be seen in \ref{ComeActions1}.
\begin{figure}[ht]
	\centering
	\includegraphics[scale=0.5]{comehere1.png}
	\caption{Come Here Actions box diagram.}
	\label{ComeActions1}
\end{figure}
It starts and end with say blocks, to let the user have some feedback.
In the middle of those blocks, there is a face tracking box that moves the robot to the position of the user and stops when it reaches its target.

One important thing to take in account when using Choregraphe is that all the tracking and speech recognition blocks of the same type in the same diagram will be activated simmultaneously.
That is to say: if you put two different Speech Recognition boxes in the same diagram, when you start one of them the other will start too, and if you stop one of them the other will also be stopped.
The same happens to Face Tracking blocks. That's why we created complex boxes with smaller behaviours that only need one tracking box of each type as much. It helps us organize our work as well as fixing that problem.
\section{5.\ FACE RECOGNITION}
Pepper has a Face Learning module, that lets her to learn a face and to recognize it later. Subsequent learnings of the same face allows Pepper to speed up the recognizing proccess.
We have created the behaviour ``Faces'', shown in \ref{Faces1}, that lets Pepper greet someone unknown to her and ask his/her name, in order to store the face. When Pepper meets someone whose face is already stored, she will greet that person by his/her name.
\begin{figure}[ht]
	\centering
	\includegraphics[scale=0.5]{faces1.png}
	\caption{Faces behaviour diagram.}
	\label{Faces1}
\end{figure}
Again, the diagram is very similar to those of the previous behaviours.
We had to change the wordlist and cases in FaceAndSpeech box, as well as the blocks that execute after it outputs something.
We have two new blocks, both with onStart and onStop inputs and the onStopped output that restarts the FaceAndSpeech box like in the previous behaviours.
When the user greets the robot, the ``Face Learner'' box is executed, that has the diagram shown in \ref{FaceLearner1}.
\begin{figure}[ht]
	\centering
	\includegraphics[scale=0.5]{facelearner1.png}
	\caption{Face Learner box diagram.}
	\label{FaceLearner1}
\end{figure}
It starts trying to recognize the user's face with the ``Face Recognition'' box. If it succeded in its task, the robot will greet the user and will say the user's name.
Otherwise, the robot will ask for the user's name and will start a Speech Recognition box. The wordlist of this box has a list of possible user names. After hearing a name, the robot will learn the user's face with the heard name.
If it succeded in its task, the robot will say ``Nice to meet you''. Otherwise, the robot will answer with a quote of a poem written by William Blake.
The other box, which diagram is the one appearing in \ref{FaceForget1}, is called ``Face Forget'' and lets us make the robot forget a certain face.
\begin{figure}[ht]
	\centering
	\includegraphics[scale=0.5]{faceforget1.png}
	\caption{Face Forget box diagram.}
	\label{FaceForget1}
\end{figure}
The robot will ask for the name of the face the user wants it to forget. Again, a Speech Recognition box with a list of names as its wordlist will be activated. The robot will forget the face whose name the user has said using the ``Unlearn Face'' block.
Finally, the robot will tell the user whether it was able to forget the face or not.
\section{6.\ DIALOGUE}
\section{7.\ CONCLUSIONS}

\clearpage

\section[8. REFERENCES]{7. REFERENCES}

\begingroup
\renewcommand{\section}[2]{}%

\begin{thebibliography}{10}
\providecommand{\url}[1]{\texttt{#1}}
\providecommand{\urlprefix}{URL}

\bibitem{AP} Apache Cordova, cordova.apache.org. Consultado el 10 de Abril del 2018. \url{https://cordova.apache.org/docs/en/latest/}

\bibitem{AR} ArcGIS for Developers, developers.arcgis.com. Consultado el 14 de Abril del 2018. \url{https://developers.arcgis.com/}

\bibitem{BOUS} Bouskela, Mauricio., et al (2016),\textit{La ruta hacia las Smart Cities: Migrando de una gestión tradicional a la ciudad inteligente}. Banco Interamericano de Desarrollo.

\bibitem{DGT} Dirección General de Tráfico, www.dgt.es. Consultado el 13 de Abril de 2018. \url{http://revista.dgt.es/es/categorias/distracciones-moviles.shtml}

\bibitem{IBM} IBM Cloudant, www.ibm.com. Consultado el 14 de Abril del 2018. \url{https://www.ibm.com/cloud/cloudant}

\bibitem{IBMII} IBM Bluemix, www.ibm.com. Consultado el 14 de Abril del 2018. \url{https://www.ibm.com/cloud-computing/bluemix/es}

\bibitem{IO} Ionic, www.ionicframework.com. Consultado el 11 de Abril del 2018. \url{https://ionicframework.com/docs/}

\bibitem{JA} Marco de Desarrollo de la Junta de Andalucia, \textit{Conceptos sobre Escalabilidad}, Consultado el 10 de Abril de 2018. \url{http://www.juntadeandalucia.es/servicios/madeja/contenido/recurso/220}

\bibitem{NODE} Node-RED, www.nodered.org. Consultado el 16 de Abril del 2018. \url{https://nodered.org/docs/platforms/bluemix}

\bibitem{NOSQL} Pandorafms, \textit{Bases de Datos NoSQL}, pandorafms.org. Consultado el 12 de Abril de 2018. \url{https://blog.pandorafms.org/es/bases-de-datos-nosql/}

\bibitem{UCLM} Universidad de Castilla-la Mancha. www.uclm.es. Consultado el 9 de Abril de 2018. \url{https://eventos.uclm.es/19833/detail/hack-for-albacity.html}

\bibitem{URB} URBIOTICA (2008), www.urbiotica.com. Consultado el 18 de Abril del 2018. \url{http://www.urbiotica.com/producto/u-spot/}

\bibitem{W3} W3Schools (1998), www.w3schools.com. Consultado el 15 de Abril del 2018. \url{https://www.w3schools.com/nodejs/default.asp}

\end{thebibliography}

\endgroup

\clearpage

\section{ANNEXES}
\bigskip
\subsection{ANNEX I \ ENLACES DE CONTENIDO}

\bigskip 
\begin{itemize}
\item \textbf{Enlace a la WebApp:} \newline
\url{https://git.eu-gb.bluemix.net/HernanIndibil.LaCruz/Hackaton-Skyhold-Web}

\item \textbf{(Aplicación de mapas en ejecución):} \newline
\url{https://hackaton-skyhold-web.eu-gb.mybluemix.net/}

\item \textbf{Documentación (presentación y memoria):} \newline
\url{https://git.eu-gb.bluemix.net/HernanIndibil.LaCruz/Hackaton-Skyhold-Web/tree/master/DOCS}

\item \textbf{Node-RED:} \newline
\url{https://git.eu-gb.bluemix.net/HernanIndibil.LaCruz/Hackaton-Skyhold-RED}

\item \textbf{(Editor de Node-RED):} \newline
\url{https://hackaton-skyhold-red.eu-gb.mybluemix.net/red/}

\item \textbf{Repositorio de la Aplicación:} \newline
\url{https://github.com/Mowstyl/Hackaton-Skyhold-App}

\end{itemize}
\bigskip
\textbf{ACLARACIÓN:} \textit{Los diferentes servicios serán públicos o se proveerán los accesos necesarios a los mismos.}

\bigskip
\bigskip

\end{document}
